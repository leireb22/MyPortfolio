// Sistema de internacionalización (i18n)
const i18n = {
    es: {
        // Título de la página
        'Leire Batalla - Portafolio': 'Leire Batalla - Portfolio',
        
        // Navegación
        'Inicio': 'Inicio',
        'Datos personales': 'Datos personales',
        'Formación': 'Formación',
        'Experiencia': 'Experiencia',
        'Habilidades': 'Habilidades',
        'Contacto': 'Contacto',
        'Desarrolladora Web': 'Desarrolladora Web',
        'Proyectos': 'Proyectos',
        
        // Sección de inicio
        '¡Hola, soy Leire Batalla!': '¡Hola, soy Leire Batalla!',
        'Estudiante de desarrollo web y móvil con mente creativa y pasión por el código. Combino tecnología y diseño para crear soluciones funcionales y visuales.': 'Estudiante de desarrollo web y móvil con mente creativa y pasión por el código. Combino tecnología y diseño para crear soluciones funcionales y visuales.',
        'Proyectos': 'Proyectos',
        
        // Sección de datos personales
        'Datos Personales': 'Datos Personales',
        'Nombre completo:': 'Nombre completo:',
        'Leire Antón Batalla': 'Leire Antón Batalla',
        'Fecha de nacimiento:': 'Fecha de nacimiento:',
        '17 de diciembre de 2004': '17 de diciembre de 2004',
        'Nacionalidad:': 'Nacionalidad:',
        'Española': 'Española',
        'Dirección:': 'Dirección:',
        'C/ Los Robles 30, Sahagún, León (CP 24320)': 'C/ Los Robles 30, Sahagún, León (CP 24320)',
        'Teléfono:': 'Teléfono:',
        'Correo electrónico:': 'Correo electrónico:',
        'Idiomas:': 'Idiomas:',
        'Español (nativo), Inglés (fluido)': 'Español (nativo), Inglés (fluido)',
        'CV en Español': 'CV en Español',
        'CV in English': 'CV in English',
        
        // Sección de formación
        'Formación Académica': 'Formación Académica',
        'Desarrollo de Aplicaciones Web': 'Desarrollo de Aplicaciones Web',
        '2024 - Actualidad (2 años)': '2024 - Actualidad (2 años)',
        'Bachillerato de Artes': 'Bachillerato de Artes',
        '2020 - 2022 (2 años)': '2020 - 2022 (2 años)',
        'IES San Andrés, León': 'IES San Andrés, León',
        'Escuela de Arte y Superior de Conservación, León': 'Escuela de Arte y Superior de Conservación, León',
        
        // Sección de experiencia
        'Experiencia Laboral': 'Experiencia Laboral',
        'aaaa': 'aaaa',
        
        // Sección de habilidades
        'Habilidades y Competencias': 'Habilidades y Competencias',
        'Habilidades Técnicas': 'Habilidades Técnicas',
        'Lenguajes:': 'Lenguajes:',
        'JavaScript, HTML, CSS, Java, C#, SQL': 'JavaScript, HTML, CSS, Java, C#, SQL',
        'Herramientas y Entornos:': 'Herramientas y Entornos:',
        'Velneo, XAMPP, Apache, Git/GitHub, Visual Studio Code': 'Velneo, XAMPP, Apache, Git/GitHub, Visual Studio Code',
        'Bases de datos:': 'Bases de datos:',
        'MySQL': 'MySQL',
        'Diseño:': 'Diseño:',
        'Diseño gráfico y digital, fundamentos de UX/UI': 'Diseño gráfico y digital, fundamentos de UX/UI',
        'Otros:': 'Otros:',
        'Responsive Web Design, maquetación web, lenguajes de marcas (HTML, XML)': 'Responsive Web Design, maquetación web, lenguajes de marcas (HTML, XML)',
        'Habilidades Personales': 'Habilidades Personales',
        'Aprendizaje rápido y autodidacta': 'Aprendizaje rápido y autodidacta',
        'Creatividad y sensibilidad estética': 'Creatividad y sensibilidad estética',
        'Resolución de problemas': 'Resolución de problemas',
        'Trabajo en equipo': 'Trabajo en equipo',
        'Organización y responsabilidad': 'Organización y responsabilidad',
        'Atención al detalle': 'Atención al detalle',
        'Comunicación eficaz': 'Comunicación eficaz',
        'Idiomas': 'Idiomas',
        'Cursos': 'Cursos',
        'Fundamentos de Linux': 'Fundamentos de Linux',
        'Linux Essentials - Cisco Networking Academy': 'Linux Essentials - Cisco Networking Academy',
        'Ver certificado': 'Ver certificado',
        
        // Contacto
        'Contacto': 'Contacto',
        'Sahagún, León, España': 'Sahagún, León, España',
        'LinkedIn': 'LinkedIn',
        'GitHub': 'GitHub',
        'Estoy abierta a oportunidades de aprendizaje, colaboración y crecimiento profesional.': 'Estoy abierta a oportunidades de aprendizaje, colaboración y crecimiento profesional.'
    },

    
    en: {
        // Navigation
        'Inicio': 'Home',
        'Datos personales': 'Personal Data',
        'Formación': 'Education',
        'Experiencia': 'Experience',
        'Habilidades': 'Skills',
        'Proyectos': 'Projects',
        'Contacto': 'Contact',
        'Desarrolladora Web': 'Web Developer',
        
        
        // Hero section
        '¡Hola, soy Leire Batalla!': 'Hi, I\'m Leire Batalla!',
        'Estudiante de desarrollo web y móvil con mente creativa y pasión por el código. Combino tecnología y diseño para crear soluciones funcionales y visuales.': 'Web and mobile development student with a creative mind and passion for code. I combine technology and design to create functional and visual solutions.',
        
        // Personal Data
        'Datos Personales': 'Personal Data',
        'Nombre completo:': 'Full name:',
        'Leire Antón Batalla': 'Leire Antón Batalla',
        'Fecha de nacimiento:': 'Date of birth:',
        '17 de diciembre de 2004': '17th December, 2004',
        'Nacionalidad:': 'Nationality:',
        'Española': 'Spanish',
        'Dirección:': 'Address:',
        'C/ Los Robles 30, Sahagún, León (CP 24320)': '30 Los Robles, Sahagún, León (CP 24320)',
        'Teléfono:': 'Phone:',
        'Correo electrónico:': 'Email:',
        'Idiomas:': 'Languages:',
        'Español (nativo), Inglés (fluido)': 'Spanish (native), English (fluent)',
        'CV en Español': 'CV in Spanish',
        'CV in English': 'CV in English',
        
        // Sección de formación
        'Formación Académica': 'Academic Education',
        'Desarrollo de Aplicaciones Web': 'Web Application Development',
        '2024 - Actualidad (2 años)': '2024 - Present (2 years)',
        'Bachillerato de Artes': 'Arts High School',
        '2020 - 2022 (2 años)': '2020 - 2022 (2 years)',
        'IES San Andrés, León': 'IES San Andrés, León',
        'Escuela de Arte y Superior de Conservación, León': 'School of Art and Higher Conservation, León',
        
        // Sección de experiencia
        'Experiencia Laboral': 'Work Experience',
        'Prácticas de Desarrollo de Aplicaciones Web': 'Web Application Development Internship',
        '2024 - 1º Curso DAW': '2024 - 1st Year DAW',
        'Durante mi primer año de Desarrollo de Aplicaciones Web, he realizado diversos proyectos que demuestran mis habilidades técnicas y creativas. Puedes ver algunos de estos trabajos en la sección de Proyectos de este portafolio, donde he aplicado mis conocimientos en programación, diseño de interfaces y desarrollo web.': 'During my first year of Web Application Development, I have completed various projects that demonstrate my technical and creative skills. You can see some of these works in the Projects section of this portfolio, where I have applied my knowledge in programming, interface design, and web development.',
        'Experiencia en Hostelería': 'Hospitality Experience',
        'Varios periodos': 'Various periods',
        'Amplia experiencia en atención al público en el sector de la hostelería, donde he desarrollado habilidades clave como:': 'Extensive experience in customer service in the hospitality sector, where I have developed key skills such as:',
        'Excelente trato al cliente y comunicación efectiva': 'Excellent customer service and effective communication',
        'Capacidad para trabajar bajo presión en entornos dinámicos': 'Ability to work under pressure in dynamic environments',
        'Trabajo en equipo y coordinación con compañeros': 'Teamwork and coordination with colleagues',
        'Resolución de problemas y gestión de imprevistos': 'Problem-solving and unexpected situation management',
        'Adaptabilidad a diferentes situaciones y necesidades del cliente': 'Adaptability to different situations and customer needs',
        'Orientación a resultados con enfoque en la satisfacción del cliente': 'Results-oriented with a focus on customer satisfaction',
        'Esta experiencia me ha permitido desarrollar una actitud proactiva, capacidad de aprendizaje rápido y una gran capacidad de adaptación a diferentes entornos laborales, habilidades que aplico en mi desarrollo profesional en el ámbito tecnológico.': 'This experience has allowed me to develop a proactive attitude, quick learning ability, and great adaptability to different work environments, skills that I apply in my professional development in the technological field.',
        
        // Sección de habilidades
        'Habilidades y Competencias': 'Skills and Competencies',
        'Habilidades Técnicas': 'Technical Skills',
        'Lenguajes:': 'Languages:',
        'JavaScript, HTML, CSS, Java, C#, SQL': 'JavaScript, HTML, CSS, Java, C#, SQL',
        'Herramientas y Entornos:': 'Tools and Environments:',
        'Velneo, XAMPP, Apache, Git/GitHub, Visual Studio Code': 'Velneo, XAMPP, Apache, Git/GitHub, Visual Studio Code',
        'Bases de datos:': 'Databases:',
        'MySQL': 'MySQL',
        'Diseño:': 'Design:',
        'Diseño gráfico y digital, fundamentos de UX/UI': 'Graphic and digital design, UX/UI fundamentals',
        'Otros:': 'Other:',
        'Responsive Web Design, maquetación web, lenguajes de marcas (HTML, XML)': 'Responsive Web Design, web layout, markup languages (HTML, XML)',
        'Habilidades Personales': 'Personal Skills',
        'Aprendizaje rápido y autodidacta': 'Quick and self-taught learning',
        'Creatividad y sensibilidad estética': 'Creativity and aesthetic sensitivity',
        'Resolución de problemas': 'Problem solving',
        'Trabajo en equipo': 'Teamwork',
        'Organización y responsabilidad': 'Organization and responsibility',
        'Atención al detalle': 'Attention to detail',
        'Comunicación eficaz': 'Effective communication',
        'Idiomas': 'Languages',
        'Cursos': 'Courses',
        'Fundamentos de Linux': 'Linux Fundamentals',
        'Linux Essentials - Cisco Networking Academy': 'Linux Essentials - Cisco Networking Academy',
        'Ver certificado': 'View certificate',
        
        // Sección de contacto
        'leirebatalla@gmail.com': 'leirebatalla@gmail.com',
        '+34 608 505 017': '+34 608 505 017',
        'Sahagún, León (España)': 'Sahagún, León (Spain)',
        'Estoy abierta a oportunidades de aprendizaje, colaboración y crecimiento profesional.': 'I am open to learning, collaboration, and professional growth opportunities.',
        
        // Página de Proyectos
        'Mis Proyectos': 'My Projects',
        'Aquí puedes ver algunos de mis proyectos.': 'Here you can see some of my projects.',
        'Ver Proyecto': 'View Project',
        'Más Información': 'More Info',
        
        // Página de Detalles del Proyecto
        'Volver a Proyectos': 'Back to Projects',
        'Fecha': 'Date',
        'Tecnologías': 'Technologies',
        'Descripción': 'Description',
        'Características': 'Features',
        'Ver Demo': 'View Demo',
        'Código Fuente': 'Source Code',
        'Juego de memoria': 'Memory game',
        'Calculadora de IP': 'IP Calculator',
        'Maps con API': 'Maps with API'
    }
};

// Función para traducir el texto
function translateText(text) {
    return i18n[currentLanguage]?.[text] || text;
}

// Función para cambiar el idioma
function changeLanguage(lang) {
    if (lang === currentLanguage) return; // No hacer nada si es el mismo idioma
    
    currentLanguage = lang;
    
    // Actualizar el atributo lang del elemento html
    document.documentElement.lang = currentLanguage;
    
    // Actualizar los textos de la página
    updateTexts();
    
    // Actualizar todos los botones de cambio de idioma
    const langButtons = document.querySelectorAll('.language-toggle, .lang-toggle');
    langButtons.forEach(button => {
        button.textContent = currentLanguage === 'es' ? 'EN' : 'ES';
        button.setAttribute('title', currentLanguage === 'es' ? 'Cambiar a inglés' : 'Switch to Spanish');
    });
    
    // Guardar la preferencia de idioma en localStorage
    localStorage.setItem('preferredLanguage', currentLanguage);
}

// Variable global para el idioma actual
let currentLanguage = 'es';

// Función para actualizar los textos en la página
function updateTexts() {
    // Actualizar los textos de los elementos con atributos data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = translateText(key);
        
        // Si el elemento es un input o textarea, actualizar el placeholder o value según corresponda
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            if (element.hasAttribute('placeholder')) {
                element.placeholder = translation;
            } else {
                element.value = translation;
            }
        } else {
            // Para otros elementos, actualizar el textContent
            element.textContent = translation;
        }
    });
    
    // Actualizar los atributos title y alt
    document.querySelectorAll('[data-i18n-title]').forEach(element => {
        const key = element.getAttribute('data-i18n-title');
        element.title = translateText(key);
    });
    
    document.querySelectorAll('[data-i18n-alt]').forEach(element => {
        const key = element.getAttribute('data-i18n-alt');
        element.alt = translateText(key);
    });
}

// Función para inicializar los botones de idioma
function initLanguageButtons() {
    const langButtons = document.querySelectorAll('.language-toggle, .lang-toggle');
    
    langButtons.forEach(button => {
        // Actualizar el texto del botón
        button.textContent = currentLanguage === 'es' ? 'EN' : 'ES';
        button.setAttribute('title', currentLanguage === 'es' ? 'Cambiar a inglés' : 'Switch to Spanish');
        
        // Remover cualquier manejador de eventos anterior
        const newButton = button.cloneNode(true);
        button.parentNode.replaceChild(newButton, button);
        
        // Agregar nuevo manejador de eventos
        newButton.addEventListener('click', function(e) {
            e.preventDefault();
            const newLang = currentLanguage === 'es' ? 'en' : 'es';
            changeLanguage(newLang);
        });
    });
}

// Inicializar cuando el DOM esté completamente cargado
document.addEventListener('DOMContentLoaded', function() {
    // Cargar el idioma guardado o usar el predeterminado
    const savedLanguage = localStorage.getItem('preferredLanguage');
    if (savedLanguage) {
        currentLanguage = savedLanguage;
    }
    
    // Establecer el idioma inicial en el HTML
    document.documentElement.lang = currentLanguage;
    
    // Inicializar los botones de idioma
    initLanguageButtons();
    
    // Actualizar los textos
    updateTexts();
});
